.__makeColumns(@n, @i: 1) when (@i =< @n) {
    &.grid-@{i} {
        >.row>.column {
            width: 100% / @i;
        }
        >.column {
            width: 100% / @i;
        }
    }
    .__makeColumns(@n, (@i + 1));
}

.__makeWideColumns(@n, @i: 1) when (@i =< @n) {
    >.column.column-@{i} {
        width: (@i / @column_count) * 100%;
    }
    >.row {
        >.column.column-@{i} {
            width: (@i / @column_count) * 100%;
        }
    }
    .__makeWideColumns(@n, (@i + 1));
}

.__makeRowColumn(@n, @i: 1) when (@i =< @n) {
    &.column-@{i} {
        >.column {
            width: 100% / @i;
        }
    }
    .__makeRowColumn(@n, (@i + 1));
}

@{NS}.grid {
    overflow: hidden;
    position: relative;
    margin: 0;
    padding: 0;
    >.column {
        float: left;
    }
    >.row {
        display: block;
        overflow: hidden;
        >.column {
            float: left;
        }
    }
    .__makeWideColumns(@column_count);
    .__makeColumns(@column_count);
    >.row {
        .__makeRowColumn(@column_count);
    }
}
